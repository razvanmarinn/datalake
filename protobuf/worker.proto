syntax = "proto3";
package worker_dfs;

option go_package = "github.com/razvanmarinn/datalake/protobuf";

import "common.proto";

service WorkerService {
    // Generic Block Storage
    rpc ReceiveBlock(SendBlockRequest) returns (common.WorkerResponse) {}
    rpc RetrieveBlock(GetBlockRequest) returns (BlockResponse) {}
    
    // Identity
    rpc GetWorkerID(WorkerIDRequest) returns (WorkerIDResponse) {}
}

message GetBlockRequest {
    string block_id = 1; 
}

message SendBlockRequest {
    string block_id = 1; 
    bytes data = 2;
}

message BlockResponse {
    bytes block_data = 1; 
}

message WorkerIDRequest {}

message WorkerIDResponse {
    UUID worker_id = 1;
}

message UUID {
    string value = 1;
}